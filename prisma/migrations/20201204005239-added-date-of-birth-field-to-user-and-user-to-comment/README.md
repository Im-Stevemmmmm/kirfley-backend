# Migration `20201204005239-added-date-of-birth-field-to-user-and-user-to-comment`

This migration has been generated by Stevemmmmmm at 12/3/2020, 4:52:39 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "Comment" ADD COLUMN     "userId" INTEGER NOT NULL

ALTER TABLE "User" ADD COLUMN     "dateOfBirth" TIMESTAMP(3) NOT NULL

ALTER TABLE "Comment" ADD FOREIGN KEY("userId")REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20201204005239-added-date-of-birth-field-to-user-and-user-to-comment
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,40 @@
+datasource db {
+    provider = "postgresql"
+    url = "***"
+}
+
+generator client {
+    provider = "prisma-client-js"
+}
+
+generator typegraphql {
+    provider = "typegraphql-prisma"
+    output   = "../src/generated/type-graphql"
+}
+
+model User {
+    id          Int       @id @default(autoincrement())
+    username    String    @unique
+    email       String    @unique
+    password    String
+    dateOfBirth DateTime
+    posts       Post[]
+    comments    Comment[]
+}
+
+model Post {
+    id        Int       @id @default(autoincrement())
+    content   String
+    creator   User      @relation(fields: [creatorId], references: [id])
+    creatorId Int
+    comments  Comment[]
+}
+
+model Comment {
+    id      Int    @id @default(autoincrement())
+    content String
+    user    User   @relation(fields: [userId], references: [id])
+    post    Post   @relation(fields: [postId], references: [id])
+    postId  Int
+    userId  Int
+}
```


